Write-Host "๐ ะะตะฟะปะพะน TeleShop Constructor ะฝะฐ ัะตัะฒะตั..." -ForegroundColor Green

# ะกะพะทะดะฐะตะผ ะบะพะผะฐะฝะดั ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะฝะฐ ัะตัะฒะตัะต
$commands = @"
echo "๐ ะะตัะตัะพะดะธะผ ะฒ ะฟะฐะฟะบั ะฟัะพะตะบัะฐ...";
cd /var/www/teleshop;

echo "๐ ะะพะปััะฐะตะผ ะฟะพัะปะตะดะฝะธะต ะธะทะผะตะฝะตะฝะธั...";
git pull origin main;

echo "๐ฆ ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะทะฐะฒะธัะธะผะพััะธ ะดะปั ััะพะฝัะตะฝะดะฐ...";
cd 01-user-dashboard;
npm install;

echo "๐จ ะกะพะฑะธัะฐะตะผ ััะพะฝัะตะฝะด...";
npm run build;

echo "๐ฆ ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะทะฐะฒะธัะธะผะพััะธ ะดะปั ะบะพะฝััััะบัะพัะฐ...";
cd ../offconstryktor;
npm install;

echo "๐จ ะกะพะฑะธัะฐะตะผ ะบะพะฝััััะบัะพั...";
npm run build;

echo "๐ ะะพะทะฒัะฐัะฐะตะผัั ะฒ ะบะพัะตะฝั ะฟัะพะตะบัะฐ...";
cd ..;

echo "๐ ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฒัะต ะฟัะพัะตััั PM2...";
pm2 stop all;

echo "๐ ะะฐะฟััะบะฐะตะผ ะฒัะต ะฟัะพัะตััั ั ะฝะพะฒะพะน ะบะพะฝัะธะณััะฐัะธะตะน...";
pm2 start ecosystem-server.config.js;

echo "๐ ะะพะบะฐะทัะฒะฐะตะผ ััะฐััั ะฟัะพัะตััะพะฒ...";
pm2 status;

echo "โ ะะตะฟะปะพะน ะทะฐะฒะตััะตะฝ!";
"@

# ะัะฟะพะปะฝัะตะผ ะบะพะผะฐะฝะดั ะฝะฐ ัะตัะฒะตัะต
ssh -i teleshop-beget-key cloud_user@77.73.232.46 $commands

Write-Host "๐ ะะตะฟะปะพะน ะฝะฐ ัะตัะฒะตั ะทะฐะฒะตััะตะฝ!" -ForegroundColor Green 